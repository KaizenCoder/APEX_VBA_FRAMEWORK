#!/bin/sh
# Pre-commit hook pour la validation d'encodage
# R√©f√©rence: chat_050 (2024-04-11 16:50)
# Source: chat_049 (Pipeline validation)

# Chemin vers PowerShell
POWERSHELL_PATH="powershell"

# Ex√©cution du pipeline de validation
echo "üîç Validation des fichiers avant commit..."
$POWERSHELL_PATH -NoProfile -ExecutionPolicy Bypass -File "tools/workflow/scripts/Start-EncodingPipeline.ps1"

# V√©rification du r√©sultat
if [ $? -ne 0 ]; then
    echo "‚ùå La validation a √©chou√©. Corrigez les erreurs avant de commiter."
    echo "üí° Utilisez 'tools/workflow/scripts/Start-EncodingPipeline.ps1 -Fix' pour corriger automatiquement."
    exit 1
fi

exit 0 